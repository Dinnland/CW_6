# Cервис управления рассылками, администрирования и получения статистики

## Для начала работы с проектом необходимо:
1. Создать и активировать виртуальное окружение 
2. Установить зависимости из requirements.txt : "pip install -r requirements.txt"
3. Создать базу данных
4. Создать файл .env на основе .env_exmpl с вашими данными почты, базы данных
5. Выполнить миграции: "python manage.py makemigrations, python manage.py migrate"
6. Запустить проект
7. Запустить рассылку командой "python manage.py sending_mail_command"


## Описание задач
1. Реализовать интерфейс заполнения рассылок, то есть CRUD-механизм для управления рассылками. 
2. Реализовать скрипт рассылки, который работает как из командой строки, так и по расписанию. 
3. Добавить настройки конфигурации для периодического запуска задачи.


## Требования к реализации
- Сущности системы
  - Клиент сервиса:
  - контактный email,
  - ФИО,
  - комментарий.
- Рассылка (настройки):
  - время рассылки;
  - периодичность: раз в день, раз в неделю, раз в месяц;
  - статус рассылки: завершена, создана, запущена.
- Сообщение для рассылки:
  - тема письма,
  - тело письма.
- Логи рассылки:
  - дата и время последней попытки;
  - статус попытки;
  - ответ почтового сервера, если он был.
Можно расширять модели для сущностей в произвольном количестве полей либо добавлять вспомогательные модели.


## Логика работы системы
- После создания новой рассылки, если текущее время больше времени начала и меньше времени окончания, то должны быть выбраны из справочника все клиенты, которые указаны в настройках рассылки, и запущена отправка для всех этих клиентов.
- Если создается рассылка со временем старта в будущем, то отправка должна стартовать автоматически по наступлению этого времени без дополнительных действий со стороны пользователя системы.
- По ходу отправки сообщений должна собираться статистика (см. описание сущности «сообщение» и «логи» выше) по каждому сообщению для последующего формирования отчетов.
- Внешний сервис, который принимает отправляемые сообщения, может долго обрабатывать запрос, отвечать некорректными данными, на какое-то время вообще не принимать запросы. Нужна корректная обработка подобных ошибок. Проблемы с внешним сервисом не должны влиять на стабильность работы разрабатываемого сервиса рассылок.
